"""
ì ‘ê·¼ì„± ê°œì„  ê¸°ëŠ¥ ë°ëª¨

Task 19: ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë° ì ‘ê·¼ì„± í–¥ìƒ ë°ëª¨
- í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì¶”ê°€ (ë¹ ë¥¸ ëª©í‘œ ë‚ ì§œ ì„¤ì •)
- ìƒ‰ë§¹ ì‚¬ìš©ìë¥¼ ìœ„í•œ íŒ¨í„´/ì•„ì´ì½˜ ì¶”ê°€
- íˆ´íŒ ë° ë„ì›€ë§ ë©”ì‹œì§€ ì¶”ê°€
- ì˜¤ë¥˜ ë©”ì‹œì§€ ë° ì‚¬ìš©ì ê°€ì´ë“œ ê°œì„ 
"""

import tkinter as tk
from tkinter import ttk
import sys
import os
from datetime import datetime, timedelta

# í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ Python ê²½ë¡œì— ì¶”ê°€
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from utils.color_utils import ColorUtils
from gui.components import UrgencyIndicator, DueDateLabel, DateTimeWidget
from gui.dialogs import show_error_dialog, show_warning_dialog, show_info_dialog


class AccessibilityDemo:
    """ì ‘ê·¼ì„± ê°œì„  ê¸°ëŠ¥ ë°ëª¨ í´ë˜ìŠ¤"""
    
    def __init__(self):
        self.root = tk.Tk()
        self.root.title("ì ‘ê·¼ì„± ê°œì„  ê¸°ëŠ¥ ë°ëª¨")
        self.root.geometry("800x600")
        
        self.setup_ui()
        self.setup_keyboard_shortcuts()
    
    def setup_ui(self):
        """UI êµ¬ì„±"""
        # ë©”ì¸ í”„ë ˆì„
        main_frame = ttk.Frame(self.root, padding="20")
        main_frame.pack(fill=tk.BOTH, expand=True)
        
        # ì œëª©
        title_label = ttk.Label(main_frame, text="ì ‘ê·¼ì„± ê°œì„  ê¸°ëŠ¥ ë°ëª¨", 
                               font=("Arial", 16, "bold"))
        title_label.pack(pady=(0, 20))
        
        # íƒ­ ì»¨íŠ¸ë¡¤
        notebook = ttk.Notebook(main_frame)
        notebook.pack(fill=tk.BOTH, expand=True)
        
        # ê° íƒ­ ìƒì„±
        self.create_color_accessibility_tab(notebook)
        self.create_keyboard_shortcuts_tab(notebook)
        self.create_tooltips_tab(notebook)
        self.create_error_messages_tab(notebook)
        
        # ë„ì›€ë§ ë²„íŠ¼
        help_frame = ttk.Frame(main_frame)
        help_frame.pack(fill=tk.X, pady=(10, 0))
        
        ttk.Button(help_frame, text="ì ‘ê·¼ì„± ë„ì›€ë§ (Alt+F1)", 
                  command=self.show_accessibility_help).pack(side=tk.LEFT)
        ttk.Button(help_frame, text="ì¼ë°˜ ë„ì›€ë§ (F1)", 
                  command=self.show_general_help).pack(side=tk.LEFT, padx=(10, 0))
    
    def create_color_accessibility_tab(self, notebook):
        """ìƒ‰ìƒ ì ‘ê·¼ì„± íƒ­ ìƒì„±"""
        tab = ttk.Frame(notebook)
        notebook.add(tab, text="ìƒ‰ìƒ ì ‘ê·¼ì„±")
        
        # ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ í”„ë ˆì„
        canvas = tk.Canvas(tab)
        scrollbar = ttk.Scrollbar(tab, orient="vertical", command=canvas.yview)
        scrollable_frame = ttk.Frame(canvas)
        
        scrollable_frame.bind(
            "<Configure>",
            lambda e: canvas.configure(scrollregion=canvas.bbox("all"))
        )
        
        canvas.create_window((0, 0), window=scrollable_frame, anchor="nw")
        canvas.configure(yscrollcommand=scrollbar.set)
        
        # ì„¤ëª…
        desc_label = ttk.Label(scrollable_frame, 
                              text="ìƒ‰ë§¹ ì‚¬ìš©ìë¥¼ ìœ„í•œ íŒ¨í„´/ì•„ì´ì½˜ê³¼ í•¨ê»˜ ìƒ‰ìƒ í‘œì‹œ",
                              font=("Arial", 12, "bold"))
        desc_label.pack(pady=(10, 20))
        
        # ê¸´ê¸‰ë„ë³„ í‘œì‹œ ì˜ˆì œ
        urgency_levels = ['overdue', 'urgent', 'warning', 'normal', 'completed']
        urgency_names = ['ì§€ì—°ë¨', 'ê¸´ê¸‰', 'ì£¼ì˜', 'ì¼ë°˜', 'ì™„ë£Œë¨']
        
        for level, name in zip(urgency_levels, urgency_names):
            frame = ttk.LabelFrame(scrollable_frame, text=f"{name} ({level})", padding="10")
            frame.pack(fill=tk.X, pady=5)
            
            # ìƒ‰ìƒ ì •ë³´
            color = ColorUtils.get_urgency_color(level)
            bg_color = ColorUtils.get_urgency_background_color(level)
            
            color_frame = ttk.Frame(frame)
            color_frame.pack(fill=tk.X, pady=5)
            
            ttk.Label(color_frame, text=f"ìƒ‰ìƒ: {color}").pack(side=tk.LEFT)
            ttk.Label(color_frame, text=f"ë°°ê²½ìƒ‰: {bg_color}").pack(side=tk.LEFT, padx=(20, 0))
            
            # ì ‘ê·¼ì„± ì •ë³´
            patterns = ColorUtils.get_accessibility_patterns()
            symbols = ColorUtils.get_accessibility_symbols()
            descriptions = ColorUtils.get_accessibility_descriptions()
            
            access_frame = ttk.Frame(frame)
            access_frame.pack(fill=tk.X, pady=5)
            
            ttk.Label(access_frame, text=f"íŒ¨í„´: {patterns.get(level, '')}").pack(side=tk.LEFT)
            ttk.Label(access_frame, text=f"ì‹¬ë³¼: {symbols.get(level, '')}").pack(side=tk.LEFT, padx=(20, 0))
            
            desc_text = descriptions.get(level, '')
            ttk.Label(access_frame, text=f"ì„¤ëª…: {desc_text}").pack(side=tk.LEFT, padx=(20, 0))
            
            # ì‹¤ì œ ì»´í¬ë„ŒíŠ¸ ì˜ˆì œ
            component_frame = ttk.Frame(frame)
            component_frame.pack(fill=tk.X, pady=10)
            
            ttk.Label(component_frame, text="ì‹¤ì œ í‘œì‹œ:").pack(side=tk.LEFT)
            
            # ê¸´ê¸‰ë„ í‘œì‹œê¸°
            indicator = UrgencyIndicator(component_frame, urgency_level=level, show_pattern=True)
            indicator.pack(side=tk.LEFT, padx=(10, 0))
            
            # ëª©í‘œ ë‚ ì§œ ë ˆì´ë¸” (ì™„ë£Œëœ ê²½ìš° ì œì™¸)
            if level != 'completed':
                if level == 'overdue':
                    due_date = datetime.now() - timedelta(days=1)
                elif level == 'urgent':
                    due_date = datetime.now() + timedelta(hours=12)
                elif level == 'warning':
                    due_date = datetime.now() + timedelta(days=2)
                else:
                    due_date = datetime.now() + timedelta(days=7)
                
                date_label = DueDateLabel(component_frame, due_date=due_date)
                date_label.pack(side=tk.LEFT, padx=(20, 0))
            else:
                completed_label = DueDateLabel(component_frame, 
                                             due_date=datetime.now() - timedelta(days=1),
                                             completed_at=datetime.now())
                completed_label.pack(side=tk.LEFT, padx=(20, 0))
        
        canvas.pack(side="left", fill="both", expand=True)
        scrollbar.pack(side="right", fill="y")
    
    def create_keyboard_shortcuts_tab(self, notebook):
        """í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ íƒ­ ìƒì„±"""
        tab = ttk.Frame(notebook)
        notebook.add(tab, text="í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤")
        
        # ì„¤ëª…
        desc_label = ttk.Label(tab, 
                              text="ë¹ ë¥¸ ëª©í‘œ ë‚ ì§œ ì„¤ì • ë° ì ‘ê·¼ì„± ë‹¨ì¶•í‚¤",
                              font=("Arial", 12, "bold"))
        desc_label.pack(pady=(10, 20))
        
        # ë‹¨ì¶•í‚¤ ëª©ë¡
        shortcuts_frame = ttk.LabelFrame(tab, text="ë¹ ë¥¸ ëª©í‘œ ë‚ ì§œ ì„¤ì • ë‹¨ì¶•í‚¤", padding="10")
        shortcuts_frame.pack(fill=tk.X, pady=10, padx=20)
        
        shortcuts = [
            ("Ctrl+D", "ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œë¥¼ ì˜¤ëŠ˜ 18:00ìœ¼ë¡œ ì„¤ì •"),
            ("Ctrl+Shift+D", "ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œë¥¼ ë‚´ì¼ 18:00ìœ¼ë¡œ ì„¤ì •"),
            ("Ctrl+Alt+D", "ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œë¥¼ ì´ë²ˆ ì£¼ë§ë¡œ ì„¤ì •"),
            ("Ctrl+R", "ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œ ì œê±°"),
        ]
        
        for shortcut, description in shortcuts:
            shortcut_frame = ttk.Frame(shortcuts_frame)
            shortcut_frame.pack(fill=tk.X, pady=2)
            
            ttk.Label(shortcut_frame, text=shortcut, font=("Courier", 10, "bold")).pack(side=tk.LEFT)
            ttk.Label(shortcut_frame, text=": " + description).pack(side=tk.LEFT, padx=(10, 0))
        
        # ì ‘ê·¼ì„± ë‹¨ì¶•í‚¤
        access_shortcuts_frame = ttk.LabelFrame(tab, text="ì ‘ê·¼ì„± ë‹¨ì¶•í‚¤", padding="10")
        access_shortcuts_frame.pack(fill=tk.X, pady=10, padx=20)
        
        access_shortcuts = [
            ("Alt+F1", "ì ‘ê·¼ì„± ë„ì›€ë§ í‘œì‹œ"),
            ("F1", "ì¼ë°˜ ë„ì›€ë§ í‘œì‹œ"),
            ("Ctrl+F", "ê²€ìƒ‰ ë°•ìŠ¤ë¡œ í¬ì»¤ìŠ¤ ì´ë™"),
            ("Esc", "ê²€ìƒ‰ í´ë¦¬ì–´ í›„ íŠ¸ë¦¬ë¡œ í¬ì»¤ìŠ¤ ì´ë™"),
            ("Tab", "ë‹¤ìŒ UI ìš”ì†Œë¡œ í¬ì»¤ìŠ¤ ì´ë™"),
            ("Shift+Tab", "ì´ì „ UI ìš”ì†Œë¡œ í¬ì»¤ìŠ¤ ì´ë™"),
        ]
        
        for shortcut, description in access_shortcuts:
            shortcut_frame = ttk.Frame(access_shortcuts_frame)
            shortcut_frame.pack(fill=tk.X, pady=2)
            
            ttk.Label(shortcut_frame, text=shortcut, font=("Courier", 10, "bold")).pack(side=tk.LEFT)
            ttk.Label(shortcut_frame, text=": " + description).pack(side=tk.LEFT, padx=(10, 0))
        
        # í…ŒìŠ¤íŠ¸ ë²„íŠ¼ë“¤
        test_frame = ttk.LabelFrame(tab, text="ë‹¨ì¶•í‚¤ í…ŒìŠ¤íŠ¸", padding="10")
        test_frame.pack(fill=tk.X, pady=10, padx=20)
        
        ttk.Label(test_frame, text="ì•„ë˜ ë²„íŠ¼ë“¤ì„ í´ë¦­í•˜ê±°ë‚˜ í•´ë‹¹ ë‹¨ì¶•í‚¤ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”:").pack(pady=(0, 10))
        
        button_frame = ttk.Frame(test_frame)
        button_frame.pack()
        
        ttk.Button(button_frame, text="ì˜¤ëŠ˜ë¡œ ì„¤ì • (Ctrl+D)", 
                  command=lambda: self.show_shortcut_demo("ì˜¤ëŠ˜")).pack(side=tk.LEFT, padx=5)
        ttk.Button(button_frame, text="ë‚´ì¼ë¡œ ì„¤ì • (Ctrl+Shift+D)", 
                  command=lambda: self.show_shortcut_demo("ë‚´ì¼")).pack(side=tk.LEFT, padx=5)
        ttk.Button(button_frame, text="ì ‘ê·¼ì„± ë„ì›€ë§ (Alt+F1)", 
                  command=self.show_accessibility_help).pack(side=tk.LEFT, padx=5)
    
    def create_tooltips_tab(self, notebook):
        """íˆ´íŒ íƒ­ ìƒì„±"""
        tab = ttk.Frame(notebook)
        notebook.add(tab, text="íˆ´íŒ ë° ë„ì›€ë§")
        
        # ì„¤ëª…
        desc_label = ttk.Label(tab, 
                              text="í–¥ìƒëœ íˆ´íŒê³¼ ë„ì›€ë§ ë©”ì‹œì§€",
                              font=("Arial", 12, "bold"))
        desc_label.pack(pady=(10, 20))
        
        # íˆ´íŒ ì˜ˆì œ
        tooltip_frame = ttk.LabelFrame(tab, text="íˆ´íŒ ì˜ˆì œ", padding="10")
        tooltip_frame.pack(fill=tk.X, pady=10, padx=20)
        
        ttk.Label(tooltip_frame, text="ë§ˆìš°ìŠ¤ë¥¼ ì•„ë˜ ìš”ì†Œë“¤ ìœ„ì— ì˜¬ë ¤ë³´ì„¸ìš”:").pack(pady=(0, 10))
        
        # ê¸´ê¸‰ë„ í‘œì‹œê¸°ë“¤ (íˆ´íŒ í¬í•¨)
        indicators_frame = ttk.Frame(tooltip_frame)
        indicators_frame.pack(pady=10)
        
        for level, name in [('overdue', 'ì§€ì—°ë¨'), ('urgent', 'ê¸´ê¸‰'), ('warning', 'ì£¼ì˜')]:
            indicator = UrgencyIndicator(indicators_frame, urgency_level=level, show_pattern=True)
            indicator.pack(side=tk.LEFT, padx=10)
            
            # íˆ´íŒ ì¶”ê°€
            self.create_tooltip(indicator, f"{name}: {ColorUtils.get_accessibility_descriptions()[level]}")
        
        # ëª©í‘œ ë‚ ì§œ ë ˆì´ë¸”ë“¤ (íˆ´íŒ í¬í•¨)
        dates_frame = ttk.Frame(tooltip_frame)
        dates_frame.pack(pady=10)
        
        due_dates = [
            (datetime.now() - timedelta(days=1), "ì§€ì—°ëœ í• ì¼"),
            (datetime.now() + timedelta(hours=12), "ê¸´ê¸‰í•œ í• ì¼"),
            (datetime.now() + timedelta(days=2), "ì£¼ì˜ í•„ìš”í•œ í• ì¼")
        ]
        
        for due_date, desc in due_dates:
            label = DueDateLabel(dates_frame, due_date=due_date)
            label.pack(side=tk.LEFT, padx=10)
    
    def create_error_messages_tab(self, notebook):
        """ì˜¤ë¥˜ ë©”ì‹œì§€ íƒ­ ìƒì„±"""
        tab = ttk.Frame(notebook)
        notebook.add(tab, text="ì˜¤ë¥˜ ë©”ì‹œì§€ ê°œì„ ")
        
        # ì„¤ëª…
        desc_label = ttk.Label(tab, 
                              text="í–¥ìƒëœ ì˜¤ë¥˜ ë©”ì‹œì§€ ë° ì‚¬ìš©ì ê°€ì´ë“œ",
                              font=("Arial", 12, "bold"))
        desc_label.pack(pady=(10, 20))
        
        # ì˜¤ë¥˜ ë©”ì‹œì§€ ì˜ˆì œ
        error_frame = ttk.LabelFrame(tab, text="ì˜¤ë¥˜ ë©”ì‹œì§€ ì˜ˆì œ", padding="10")
        error_frame.pack(fill=tk.X, pady=10, padx=20)
        
        ttk.Label(error_frame, text="ë‹¤ì–‘í•œ ì˜¤ë¥˜ ìƒí™©ì— ëŒ€í•œ í–¥ìƒëœ ë©”ì‹œì§€ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”:").pack(pady=(0, 10))
        
        button_frame = ttk.Frame(error_frame)
        button_frame.pack()
        
        ttk.Button(button_frame, text="íŒŒì¼ ì˜¤ë¥˜", 
                  command=lambda: show_error_dialog(self.root, "íŒŒì¼ì„ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")).pack(side=tk.LEFT, padx=5)
        ttk.Button(button_frame, text="ë‚ ì§œ ì˜¤ë¥˜", 
                  command=lambda: show_error_dialog(self.root, "ì˜ëª»ëœ ë‚ ì§œ í˜•ì‹ì…ë‹ˆë‹¤")).pack(side=tk.LEFT, padx=5)
        ttk.Button(button_frame, text="ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜", 
                  command=lambda: show_error_dialog(self.root, "ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")).pack(side=tk.LEFT, padx=5)
        
        # ê²½ê³  ë©”ì‹œì§€ ì˜ˆì œ
        warning_frame = ttk.LabelFrame(tab, text="ê²½ê³  ë©”ì‹œì§€ ì˜ˆì œ", padding="10")
        warning_frame.pack(fill=tk.X, pady=10, padx=20)
        
        ttk.Label(warning_frame, text="ì¤‘ìš”í•œ ì‘ì—…ì— ëŒ€í•œ í–¥ìƒëœ ê²½ê³  ë©”ì‹œì§€:").pack(pady=(0, 10))
        
        warning_button_frame = ttk.Frame(warning_frame)
        warning_button_frame.pack()
        
        ttk.Button(warning_button_frame, text="ì‚­ì œ ê²½ê³ ", 
                  command=lambda: show_warning_dialog(self.root, "ì¤‘ìš”í•œ ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤")).pack(side=tk.LEFT, padx=5)
        ttk.Button(warning_button_frame, text="ì €ì¥ ê²½ê³ ", 
                  command=lambda: show_warning_dialog(self.root, "ê¸°ì¡´ íŒŒì¼ì„ ë®ì–´ì“°ë ¤ê³  í•©ë‹ˆë‹¤")).pack(side=tk.LEFT, padx=5)
        
        # ì‚¬ìš©ì ê°€ì´ë“œ
        guide_frame = ttk.LabelFrame(tab, text="ì‚¬ìš©ì ê°€ì´ë“œ ê°œì„ ", padding="10")
        guide_frame.pack(fill=tk.X, pady=10, padx=20)
        
        guide_text = """í–¥ìƒëœ ì‚¬ìš©ì ê°€ì´ë“œ íŠ¹ì§•:

â€¢ êµ¬ì²´ì ì¸ í•´ê²° ë°©ë²• ì œì‹œ
â€¢ ë‹¨ê³„ë³„ ì•ˆë‚´ ì œê³µ
â€¢ ê´€ë ¨ ë„ì›€ë§ ë§í¬ í¬í•¨
â€¢ ì˜ˆë°© ì¡°ì¹˜ ì•ˆë‚´
â€¢ ëŒ€ì•ˆ ë°©ë²• ì œì‹œ"""
        
        ttk.Label(guide_frame, text=guide_text, justify=tk.LEFT).pack(anchor=tk.W)
    
    def setup_keyboard_shortcuts(self):
        """í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì„¤ì •"""
        # ë¹ ë¥¸ ëª©í‘œ ë‚ ì§œ ì„¤ì • ë‹¨ì¶•í‚¤
        self.root.bind('<Control-d>', lambda e: self.show_shortcut_demo("ì˜¤ëŠ˜"))
        self.root.bind('<Control-Shift-d>', lambda e: self.show_shortcut_demo("ë‚´ì¼"))
        self.root.bind('<Control-Alt-d>', lambda e: self.show_shortcut_demo("ì´ë²ˆ ì£¼ë§"))
        self.root.bind('<Control-r>', lambda e: self.show_shortcut_demo("ì œê±°"))
        
        # ì ‘ê·¼ì„± ë„ì›€ë§
        self.root.bind('<Alt-F1>', lambda e: self.show_accessibility_help())
        self.root.bind('<F1>', lambda e: self.show_general_help())
    
    def show_shortcut_demo(self, action):
        """ë‹¨ì¶•í‚¤ ë°ëª¨ í‘œì‹œ"""
        message = f"ë‹¨ì¶•í‚¤ ë°ëª¨: ëª©í‘œ ë‚ ì§œë¥¼ '{action}'(ìœ¼)ë¡œ ì„¤ì •í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\n"
        message += "ì‹¤ì œ í• ì¼ ê´€ë¦¬ìì—ì„œëŠ” ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œê°€ ë³€ê²½ë©ë‹ˆë‹¤."
        
        show_info_dialog(self.root, message, f"ë‹¨ì¶•í‚¤ ë°ëª¨ - {action}")
    
    def show_accessibility_help(self):
        """ì ‘ê·¼ì„± ë„ì›€ë§ í‘œì‹œ"""
        help_text = """ì ‘ê·¼ì„± ê¸°ëŠ¥ ë° í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

=== ë¹ ë¥¸ ëª©í‘œ ë‚ ì§œ ì„¤ì • ===
â€¢ Ctrl+D: ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œë¥¼ ì˜¤ëŠ˜ 18:00ìœ¼ë¡œ ì„¤ì •
â€¢ Ctrl+Shift+D: ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œë¥¼ ë‚´ì¼ 18:00ìœ¼ë¡œ ì„¤ì •
â€¢ Ctrl+Alt+D: ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œë¥¼ ì´ë²ˆ ì£¼ë§ë¡œ ì„¤ì •
â€¢ Ctrl+R: ì„ íƒëœ í• ì¼ì˜ ëª©í‘œ ë‚ ì§œ ì œê±°

=== ì ‘ê·¼ì„± ê¸°ëŠ¥ ===
â€¢ ìƒ‰ìƒê³¼ í•¨ê»˜ íŒ¨í„´/ì•„ì´ì½˜ìœ¼ë¡œ ê¸´ê¸‰ë„ í‘œì‹œ
â€¢ í‚¤ë³´ë“œë§Œìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼ ê°€ëŠ¥
â€¢ ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›ì„ ìœ„í•œ ì ‘ê·¼ì„± ë ˆì´ë¸”
â€¢ íˆ´íŒìœ¼ë¡œ ìƒì„¸í•œ ë„ì›€ë§ ì œê³µ

=== ê¸´ê¸‰ë„ í‘œì‹œ ===
â€¢ ğŸ”´ !!! : ì§€ì—°ë¨ (ë¹¨ê°„ìƒ‰)
â€¢ ğŸŸ  !! : 24ì‹œê°„ ì´ë‚´ ë§ˆê° (ì£¼í™©ìƒ‰)
â€¢ ğŸŸ¡ ! : 3ì¼ ì´ë‚´ ë§ˆê° (ë…¸ë€ìƒ‰)
â€¢ âšª : ì¼ë°˜ ìš°ì„ ìˆœìœ„ (ê²€ì€ìƒ‰)
â€¢ âœ… âœ“ : ì™„ë£Œë¨ (íšŒìƒ‰)

=== í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ===
â€¢ Tab/Shift+Tab: UI ìš”ì†Œ ê°„ ì´ë™
â€¢ Enter: ì„ íƒëœ í•­ëª© ì‹¤í–‰
â€¢ Esc: ì·¨ì†Œ ë˜ëŠ” ì´ì „ ìƒíƒœë¡œ
â€¢ F1: ì¼ë°˜ ë„ì›€ë§
â€¢ Alt+F1: ì ‘ê·¼ì„± ë„ì›€ë§"""
        
        show_info_dialog(self.root, help_text, "ì ‘ê·¼ì„± ë„ì›€ë§")
    
    def show_general_help(self):
        """ì¼ë°˜ ë„ì›€ë§ í‘œì‹œ"""
        help_text = """ì ‘ê·¼ì„± ê°œì„  ê¸°ëŠ¥ ë°ëª¨ ë„ì›€ë§

ì´ ë°ëª¨ëŠ” í• ì¼ ê´€ë¦¬ìì˜ ì ‘ê·¼ì„± ê°œì„  ê¸°ëŠ¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

=== íƒ­ ì„¤ëª… ===
â€¢ ìƒ‰ìƒ ì ‘ê·¼ì„±: ìƒ‰ë§¹ ì‚¬ìš©ìë¥¼ ìœ„í•œ íŒ¨í„´/ì•„ì´ì½˜ í‘œì‹œ
â€¢ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤: ë¹ ë¥¸ ëª©í‘œ ë‚ ì§œ ì„¤ì • ë‹¨ì¶•í‚¤
â€¢ íˆ´íŒ ë° ë„ì›€ë§: í–¥ìƒëœ íˆ´íŒê³¼ ë„ì›€ë§ ë©”ì‹œì§€
â€¢ ì˜¤ë¥˜ ë©”ì‹œì§€ ê°œì„ : ë” ë‚˜ì€ ì˜¤ë¥˜ ë©”ì‹œì§€ì™€ ì‚¬ìš©ì ê°€ì´ë“œ

=== ì‚¬ìš©ë²• ===
â€¢ ê° íƒ­ì„ í´ë¦­í•˜ì—¬ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í™•ì¸í•˜ì„¸ìš”
â€¢ ë§ˆìš°ìŠ¤ë¥¼ UI ìš”ì†Œ ìœ„ì— ì˜¬ë ¤ íˆ´íŒì„ í™•ì¸í•˜ì„¸ìš”
â€¢ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”
â€¢ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì˜ˆì œë¥¼ í™•ì¸í•˜ì„¸ìš”

=== í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ===
â€¢ F1: ì´ ë„ì›€ë§ í‘œì‹œ
â€¢ Alt+F1: ì ‘ê·¼ì„± ë„ì›€ë§ í‘œì‹œ
â€¢ Ctrl+D: ë‹¨ì¶•í‚¤ ë°ëª¨ (ì˜¤ëŠ˜)
â€¢ Ctrl+Shift+D: ë‹¨ì¶•í‚¤ ë°ëª¨ (ë‚´ì¼)"""
        
        show_info_dialog(self.root, help_text, "ë„ì›€ë§")
    
    def create_tooltip(self, widget, text):
        """íˆ´íŒ ìƒì„±"""
        def show_tooltip(event):
            tooltip = tk.Toplevel()
            tooltip.wm_overrideredirect(True)
            tooltip.wm_geometry(f"+{event.x_root + 10}+{event.y_root + 10}")
            
            label = tk.Label(tooltip, text=text, background="lightyellow", 
                           relief="solid", borderwidth=1, font=("Arial", 9),
                           justify=tk.LEFT)
            label.pack()
            
            # 3ì´ˆ í›„ ìë™ ì‚¬ë¼ì§
            tooltip.after(3000, tooltip.destroy)
            
            # ë§ˆìš°ìŠ¤ê°€ ìœ„ì ¯ì„ ë²—ì–´ë‚˜ë©´ ì¦‰ì‹œ ì‚¬ë¼ì§
            def hide_tooltip(event):
                tooltip.destroy()
            
            widget.bind('<Leave>', hide_tooltip, add='+')
        
        widget.bind('<Enter>', show_tooltip, add='+')
    
    def run(self):
        """ë°ëª¨ ì‹¤í–‰"""
        self.root.mainloop()


def main():
    """ë©”ì¸ í•¨ìˆ˜"""
    print("ì ‘ê·¼ì„± ê°œì„  ê¸°ëŠ¥ ë°ëª¨ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...")
    print("=" * 50)
    print("ì£¼ìš” ê¸°ëŠ¥:")
    print("â€¢ ìƒ‰ë§¹ ì‚¬ìš©ìë¥¼ ìœ„í•œ íŒ¨í„´/ì•„ì´ì½˜ ì¶”ê°€")
    print("â€¢ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì¶”ê°€ (ë¹ ë¥¸ ëª©í‘œ ë‚ ì§œ ì„¤ì •)")
    print("â€¢ íˆ´íŒ ë° ë„ì›€ë§ ë©”ì‹œì§€ ì¶”ê°€")
    print("â€¢ ì˜¤ë¥˜ ë©”ì‹œì§€ ë° ì‚¬ìš©ì ê°€ì´ë“œ ê°œì„ ")
    print("=" * 50)
    
    demo = AccessibilityDemo()
    demo.run()


if __name__ == "__main__":
    main()